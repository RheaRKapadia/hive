<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <title>New Workouts</title>
</head>
<body class="newworkout">
  <header>
      <div class="logo">
          <h1>HIVE</h1>
      </div>
      <nav>
          <div class="user-menu">
              <a href="/user/userprofile">
                  <img src="/images/avatar.png" alt="User Avatar" class="avatar">
              </a>
              <span>Menu</span>
          </div>
      </nav>
  </header>
  <div class="page-content">
    <div class="fixed-content">
        <h1>New Routine</h1>
        <div class="search-bar">
            <input type="text" class="search-input" placeholder="Search Workouts">
            <button class="personalized-workout">Personalized Workout</button>
        </div>
        <span>Filter</span>
                <!-- <select id="difficultyFilter" class="filter-button">
                    <option value="">Difficulty Level</option>
                    <option value="beginner">Beginner</option>
                    <option value="intermediate">Intermediate</option>
                    <option value="advanced">Advanced</option>
                </select> -->
                <select id="bodyPartFilter" class="filter-button">
                  <option value="">Body Part</option>
                  <option value="back">Back</option>
                  <option value="cardio">Cardio</option>
                  <option value="chest">Chest</option>
                  <option value="lower_arms">Lower Arms</option>
                  <option value="lower_legs">Lower Legs</option>
                  <option value="neck">Neck</option>
                  <option value="shoulders">Shoulders</option>
                  <option value="upper_arms">Upper Arms</option>
                  <option value="upper_legs">Upper Legs</option>
                  <option value="waist">Waist</option>
                </select>
              <select id="equipmentFilter" class="filter-button">
                <option value="">Equipment</option>
                <option value="assisted">Assisted</option>
                <option value="band">Band</option>
                <option value="barbell">Barbell</option>
                <option value="bodyweight">Body Weight</option>
                <option value="bosu_ball">Bosu Ball</option>
                <option value="cable">Cable</option>
                <option value="dumbbell">Dumbbell</option>
                <option value="elliptical_machine">Elliptical Machine</option>
                <option value="ez_barbell">EZ Barbell</option>
                <option value="hammer">Hammer</option>
                <option value="kettlebell">Kettlebell</option>
                <option value="leverage_machine">Leverage Machine</option>
                <option value="medicine_ball">Medicine Ball</option>
                <option value="olympic_barbell">Olympic Barbell</option>
                <option value="resistance_band">Resistance Band</option>
                <option value="roller">Roller</option>
                <option value="rope">Rope</option>
                <option value="skierg_machine">Skierg Machine</option>
                <option value="sled_machine">Sled Machine</option>
                <option value="smith_machine">Smith Machine</option>
                <option value="stability_ball">Stability Ball</option>
                <option value="stationary_bike">Stationary Bike</option>
                <option value="stepmill_machine">Stepmill Machine</option>
                <option value="tire">Tire</option>
                <option value="trap_bar">Trap Bar</option>
                <option value="upper_body_ergometer">Upper Body Ergometer</option>
                <option value="weighted">Weighted</option>
                <option value="wheel_roller">Wheel Roller</option>
              </select>
              <!-- <select id="durationFilter" class="filter-button">
                <option value="">Duration</option>
              </select>
              <select id="userRatingFilter" class="filter-button">
                <option value="">User Rating</option>
              </select> -->
              <select id="targetFilter" class="filter-button">
                <option value="">Target Area</option>
                <option value="abductors">Abductors</option>
                <option value="abs">Abs</option>
                <option value="adductors">Adductors</option>
                <option value="biceps">Biceps</option>
                <option value="calves">Calves</option>
                <option value="cardiovascular_system">Cardiovascular System</option>
                <option value="delts">Delts</option>
                <option value="forearms">Forearms</option>
                <option value="glutes">Glutes</option>
                <option value="hamstrings">Hamstrings</option>
                <option value="lats">Lats</option>
                <option value="levator_scapulae">Levator Scapulae</option>
                <option value="pectorals">Pectorals</option>
                <option value="quads">Quads</option>
                <option value="serratus_anterior">Serratus Anterior</option>
                <option value="spine">Spine</option>
                <option value="traps">Traps</option>
                <option value="triceps">Triceps</option>
                <option value="upper_back">Upper Back</option>
              </select>
        <div class="categories">
            <span>Categories</span>
            <div class="category">Flexibility</div>
            <div class="category">Cardio</div>
            <div class="category">Strength</div>
        </div>
    </div>
    <div class="scrollable-content">
      <div class="workout-list">
          <div class="workout-header">
              <div>Add</div>
              <div>Exercise</div>
              <div>Description</div>
              <div>Equipment</div>
              <div>Muscles</div>
          </div>
          <% if (exercises && exercises.data && exercises.data.length > 0) { %>
              <% exercises.data.forEach(function(exercise) { %>
                  <div class="workout-row">
                      <button class="add-exercise">+</button>
                      <div class="exercise-name">
                        <a href="#" class="exercise-link" data-exercise-id="<%= exercise.id %>"><%= exercise.name %></a>
                      </div>
                      <div class="exercise-description">
                        <p class="short-description"><%= exercise.instructions[0] %>...</p>
                        <div class="full-instructions" style="display: none;">
                          <% exercise.instructions.forEach(function(instruction) { %>
                            <p><%= instruction %></p>
                          <% }); %>
                        </div>
                      </div>
                      <div><span class="equipment-tag"><%= exercise.equipment %></span></div>
                      <div><%= exercise.target %>, <%= exercise.secondaryMuscles.join(', ') %></div>
                  </div>
              <% }); %>
          <% } else { %>
              <div class="no-exercises">No exercises found.</div>
          <% } %>
      </div>
    </div>
  <!-- <div class="content">
      <h1>New Workout</h1>
      <div class="workouts-grid">
          <% exercises.data.forEach(function(exercise) { %>
              <div class="workout-card">
                  <div class="workout-title"><%= exercise.name %></div>
                  <div class="workout-meta">Category: <%= exercise.target %> | Equipment: <%= exercise.equipment %></div>
                  <ul class="exercise-list bullet-list">
                      <%= exercise.instructions %>
                  </ul>
                  <div class="main-target">
                      <strong>Main Targets:</strong> <%= exercise.secondaryMuscles %>
                  </div>
              </div>
          <% }) %>
      </div>
  </div> -->
  <!-- <div class="pagination">
      <% if (exercises.pagination.currentPage > 1) { %>
          <a href="/user/workouts/new?page=<%= exercises.pagination.currentPage - 1 %>">&laquo; Previous</a>
      <% } %>

      <% for (let i = 1; i <= exercises.pagination.totalPages; i++) { %>
          <a href="/user/workouts/new?page=<%= i %>" class="<%= exercises.pagination.currentPage === i ? 'active' : '' %>"><%= i %></a>
      <% } %>

      <% if (exercises.pagination.currentPage < exercises.pagination.totalPages) { %>
          <a href="/user/workouts/new?page=<%= exercises.pagination.currentPage + 1 %>">Next &raquo;</a>
      <% } %>
  </div> -->
  <a href="#" class="add-button">+</a>
  <!-- <script>
      document.addEventListener('DOMContentLoaded', function() {
          document.querySelectorAll('.bullet-list').forEach(function(element) {
              var text = element.textContent.trim();
              var items = text.split('.');
              if (items.length > 1) {
                  var list = document.createElement('ul');
                  items.forEach(function(item) {
                      if (item.trim()) {
                          var li = document.createElement('li');
                          li.textContent = item.replace(/^,\s*/, '').trim();
                          list.appendChild(li);
                      }
                  });
                  element.textContent = '';
                  element.appendChild(list);
              }
          });

          document.querySelectorAll('.main-target').forEach(function(element) {
              var text = element.textContent.trim().replace('Main Targets:', '').trim();
              var items = text.split(',');
              if (items.length > 1) {
                  var list = document.createElement('ul');
                  items.forEach(function(item) {
                      if (item.trim()) {
                          var li = document.createElement('li');
                          li.textContent = item.trim();
                          list.appendChild(li);
                      }
                  });
                  element.innerHTML = '<strong>Main Targets:</strong>';
                  element.appendChild(list);
              }
          });
      });
  </script> -->
  <!-- <script>
    document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.getElementById('searchInput');
        const difficultyFilter = document.getElementById('difficultyFilter');
        const muscleGroupFilter = document.getElementById('muscleGroupFilter');
        const equipmentFilter = document.getElementById('equipmentFilter');
        const workoutList = document.getElementById('workoutList');

        let exercises = <%- JSON.stringify(exercises.data) %>; // Assuming you're passing the exercises data to the template

        function renderWorkouts(filteredExercises) {
            workoutList.innerHTML = `
                <div class="workout-header">
                    <div>Add</div>
                    <div>Exercise</div>
                    <div>Description</div>
                    <div>Equipment</div>
                    <div>Muscles</div>
                </div>
                ${filteredExercises.map(exercise => `
                    <div class="workout-row">
                        <button class="add-exercise">+</button>
                        <div class="exercise-name">${exercise.name}</div>
                        <div>${exercise.instructions[0] || ''}</div>
                        <div><span class="equipment-tag">${exercise.equipment}</span></div>
                        <div>${exercise.target}, ${exercise.secondaryMuscles.join(', ')}</div>
                    </div>
                `).join('')}
            `;
        }

        function filterExercises() {
            const searchTerm = searchInput.value.toLowerCase();
            const difficulty = difficultyFilter.value;
            const muscleGroup = muscleGroupFilter.value;
            const equipment = equipmentFilter.value;

            const filteredExercises = exercises.filter(exercise =>
                exercise.name.toLowerCase().includes(searchTerm) &&
                (difficulty === '' || exercise.difficulty === difficulty) &&
                (muscleGroup === '' || exercise.target.toLowerCase().includes(muscleGroup) || exercise.secondaryMuscles.some(muscle => muscle.toLowerCase().includes(muscleGroup))) &&
                (equipment === '' || exercise.equipment.toLowerCase().includes(equipment))
            );

            renderWorkouts(filteredExercises);
        }

        searchInput.addEventListener('input', filterExercises);
        difficultyFilter.addEventListener('change', filterExercises);
        muscleGroupFilter.addEventListener('change', filterExercises);
        equipmentFilter.addEventListener('change', filterExercises);

        // Initial render
        renderWorkouts(exercises);
    });
</script> -->
<script src="path/to/workout-filters.js"></script>
<script src="/js/exercise-details.js"></script>
</body>
</html>
